<%= simple_form_for @recipe, html: { multipart: true } do |f| %>


  <%# This provides error messages %>
  <% if @recipe.errors.any? %>
    <p>
      <%= @recipe.errors.count %>
      Prevented this recipe from saving
    </p>
    <ul>
      <% @recipe.errors.full_message.each do |msg| %>
        <li> <%= msg %>
      <% end %>
  <% end %>

  <div class="panel-body">

    <%# input_html: { class: 'form-control' } extends boxes to edge of screen %>
    <%= f.input :title, input_html: { class: 'form-control' } %>
    <%= f.input :description, input_html: { class: 'form-control' } %>

    <div class="row col-md-6">
      <h3>Ingredients</h3>
      <div id="ingredients">

        <%= f.simple_fields_for :ingredients do |ingredient| %>
          <div class="">
            ok
          </div>
          <%= render 'ingredient_fields', f: ingredient %>
            <div id="links">
              <%= link_to_add_association "Add Ingredient", f, :ingredients, class: "btn btn-default add-button" %>
            </div>
        <% end %>

      </div>
    </div>
  </div>

  <%= f.button :submit, class: "btn btn-primary" %>

<% end %>
